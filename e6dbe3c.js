(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{494:function(e,t,o){var content=o(649);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("0474fa40",content,!0,{sourceMap:!1})},495:function(e,t,o){var content=o(651);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("01a4cb1e",content,!0,{sourceMap:!1})},496:function(e,t,o){var content=o(653);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("170faede",content,!0,{sourceMap:!1})},497:function(e,t,o){var content=o(655);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("64d486b6",content,!0,{sourceMap:!1})},498:function(e,t,o){var content=o(657);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("1b7833da",content,!0,{sourceMap:!1})},635:function(e,t,o){"use strict";o.r(t);var l={name:"upload-dialog",props:{showDialog:{type:Boolean,default:!1},uploadFiles:{type:Array,default:function(){return[]}}},data:function(){return{showNormal:!0,showMax:!1,strokeWidth:5}},methods:{minimizeUploadDialog:function(){this.$emit("minimize-upload-dialog",{})},toUpload:function(e){this.$emit("to-upload",e)}}},n=(o(648),o(17)),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.showDialog?o("div",[o("div",{staticClass:"upload-dialog animated slideInUp select-none"},[o("div",{staticClass:"upload-dialog-header flex-row flex-space-between flex-align-center"},[e._m(0),e._v(" "),o("div",{staticClass:"upload-dialog-header-right flex-row flex-align-center"},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"最小化",placement:"top"}},[o("img",{staticClass:"size-22",staticStyle:{"margin-right":"5px"},attrs:{alt:"最小化",src:"/images/minimize.svg"},on:{click:e.minimizeUploadDialog}})])],1)]),e._v(" "),o("div",{staticClass:"upload-dialog-content"},[o("el-table",{staticClass:"upload-table",staticStyle:{width:"100%"},attrs:{data:e.uploadFiles,"empty-text":"暂无上传文件","header-cell-class-name":"upload-table-header",height:"349"}},[o("el-table-column",{attrs:{prop:"name",label:"名称",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.name,placement:"top"}},[o("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-align":"left"}},[e._v("\n                "+e._s(t.row.name)+"\n              ")])])]}}],null,!1,2282915817)}),e._v(" "),o("el-table-column",{attrs:{prop:"sizeWithUnit",label:"大小",width:"80"}}),e._v(" "),o("el-table-column",{attrs:{prop:"pathName",label:"上传路径",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.pathRelativeName,placement:"top"}},[o("div",{staticClass:"path-name",on:{click:function(o){return e.toUpload(t.row)}}},[e._v("\n                "+e._s(t.row.pathName)+"\n              ")])])]}}],null,!1,4085956302)}),e._v(" "),o("el-table-column",{attrs:{prop:"percentage",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.percentage<100?o("div",[o("div",{staticStyle:{"font-size":"10px",color:"#409EFF"}},[e._v(e._s(t.row.speed)+"MB/S")]),e._v(" "),o("el-progress",{attrs:{"show-text":!1,"text-inside":!0,"stroke-width":e.strokeWidth,percentage:t.row.percentage}})],1):e._e(),e._v(" "),100===t.row.percentage?o("div",[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"任务完成",placement:"top"}},[o("i",{staticClass:"el-icon-circle-check task-finish",staticStyle:{color:"#67C23A"}})])],1):e._e()]}}],null,!1,2408610067)}),e._v(" "),o("el-table-column",{attrs:{prop:"",width:"120",label:""},scopedSlots:e._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除任务",placement:"top"}},[o("i",{staticClass:"el-icon-delete"})])]}}],null,!1,676007152)})],1)],1)])]):e._e()}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"upload-dialog-header-left flex-row flex-align-center select-none"},[t("img",{staticClass:"size-22",staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{alt:"最小化",src:"/images/upload.svg"}}),this._v("\n        上传列表\n      ")])}],!1,null,null,null);t.default=component.exports},636:function(e,t,o){"use strict";o.r(t);var l={name:"offline-download-dialog",props:{showDialog:{type:Boolean,default:!1},downloadFiles:{type:Array,default:function(){return[]}}},data:function(){return{showNormal:!0,showMax:!1,strokeWidth:5}},methods:{minimizeDownloadDialog:function(){this.$emit("minimize-download-dialog",{})},toDownload:function(e){this.$emit("to-download",e)}}},n=(o(650),o(17)),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.showDialog?o("div",[o("div",{staticClass:"download-dialog animated slideInUp select-none"},[o("div",{staticClass:"download-dialog-header flex-row flex-space-between flex-align-center"},[e._m(0),e._v(" "),o("div",{staticClass:"download-dialog-header-right flex-row flex-align-center"},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"最小化",placement:"top"}},[o("img",{staticClass:"size-22",staticStyle:{"margin-right":"5px"},attrs:{alt:"最小化",src:"/images/minimize.svg"},on:{click:e.minimizeDownloadDialog}})])],1)]),e._v(" "),o("div",{staticClass:"download-dialog-content"},[o("el-table",{staticClass:"download-table",staticStyle:{width:"100%"},attrs:{data:e.downloadFiles,"empty-text":"暂无离线下载文件","header-cell-class-name":"download-table-header",height:"349"}},[o("el-table-column",{attrs:{prop:"name",label:"名称",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.name,placement:"top"}},[o("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-align":"left"}},[e._v("\n                "+e._s(t.row.name)+"\n              ")])])]}}],null,!1,2282915817)}),e._v(" "),o("el-table-column",{attrs:{prop:"sizeWithUnit",label:"大小",width:"80",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"pathName",label:"下载路径",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.pathRelativeName,placement:"top"}},[o("div",{staticClass:"path-name",on:{click:function(o){return e.toDownload(t.row)}}},[e._v("\n                "+e._s(t.row.pathName)+"\n              ")])])]}}],null,!1,1702661593)}),e._v(" "),o("el-table-column",{attrs:{prop:"percentage",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.percentage<100?o("div",[o("div",{staticStyle:{"font-size":"10px",color:"#409EFF"}},[e._v(e._s(t.row.speed)+"MB/S")]),e._v(" "),o("el-progress",{attrs:{"show-text":!1,"text-inside":!0,"stroke-width":e.strokeWidth,percentage:t.row.percentage}})],1):e._e(),e._v(" "),100===t.row.percentage?o("div",[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"任务完成",placement:"top"}},[o("i",{staticClass:"el-icon-circle-check task-finish",staticStyle:{color:"#67C23A"}})])],1):e._e()]}}],null,!1,2408610067)}),e._v(" "),o("el-table-column",{attrs:{prop:"",width:"120",label:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除任务",placement:"top"}},[o("i",{staticClass:"el-icon-delete"})])]}}],null,!1,676007152)})],1)],1)])]):e._e()}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"download-dialog-header-left flex-row flex-align-center select-none"},[t("img",{staticClass:"size-22",staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{alt:"最小化",src:"/images/download.svg"}}),this._v("\n        离线下载列表\n      ")])}],!1,null,"2ae70f65",null);t.default=component.exports},637:function(e,t,o){"use strict";o.r(t);o(98);var l={name:"choose-folder-dialog",props:{showDialog:{type:Boolean,default:!1},chooseFolders:{type:Array,default:function(){return[]}},currentPath:{type:Object,default:function(){return{}}}},data:function(){return{x:0,y:0,l:0,t:0,isHeaderDown:!1,uploadRelativePath:"/"}},watch:{showDialog:function(){this.listenAndDrag()},currentPath:function(path){this.uploadRelativePath=path.relativePath}},mounted:function(){this.uploadRelativePath=this.$store.state.path.current_path.relativePath},methods:{closeDialog:function(){this.$emit("close-dialog",{})},listenAndDrag:function(){var e=this;this.showDialog&&this.$nextTick((function(){var t=e.$refs["choose-folder-dialog-header"];t.onmousedown=e.onHeaderMouseDown,t.onmouseup=e.onHeaderMouseUp,t.onmouseleave=e.onHeaderMouseUp,window.onmousemove=e.onMouseMove}))},onHeaderMouseDown:function(e){var t=this.$refs["choose-folder-dialog"];this.x=e.clientX,this.y=e.clientY,this.l=t.offsetLeft,this.t=t.offsetTop,this.isHeaderDown=!0,e.target.style.cursor="move"},onMouseMove:function(e){if(this.isHeaderDown){var t=this.$refs["choose-folder-dialog"],o=e.clientX,l=e.clientY,n=o-(this.x-this.l)+300;n=n>300?n>document.body.offsetWidth-300?document.body.offsetWidth-300:n:300,t.style.left=n+"px";var r=l-(this.y-this.t)+225;r=r>225?r>document.body.offsetHeight-225-56?document.body.offsetHeight-225-56:r:225,t.style.top=r+"px"}},onHeaderMouseUp:function(e){this.isHeaderDown=!1,e.target.style.cursor="default"},cutText:function(text){return text.length>6?text.substr(0,4)+"...":text},chooseFolder:function(e){this.uploadRelativePath=e.relativePath,this.$emit("choose-folder",e)},openFolder:function(e){this.$emit("open-folder",e)},backTopPath:function(e){if(this.$emit("back-top-path",e),"/"!==e){var t=this.uploadRelativePath.split("/");t.pop(),t.pop(),t.push(""),this.uploadRelativePath=t.join("/")}},chooseUpload:function(){this.$emit("choose-upload",{})}}},n=(o(652),o(17)),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.showDialog?o("div",{ref:"choose-folder-dialog",staticClass:"choose-folder-dialog select-none"},[o("div",{ref:"choose-folder-dialog-header",staticClass:"choose-folder-dialog-header flex-row flex-space-between flex-align-center",attrs:{id:"choose-folder-dialog-header"}},[o("div",{staticClass:"choose-folder-dialog-header-left"},[e._v("选择上传路径")]),e._v(" "),o("div",{staticClass:"choose-folder-dialog-header-right"},[o("img",{staticClass:"size-14",attrs:{alt:"关闭弹窗",src:"/images/delete.svg"},on:{click:e.closeDialog}})])]),e._v(" "),o("div",{staticClass:"choose-folder-dialog-content"},[o("div",{staticClass:"flex-row",staticStyle:{"flex-wrap":"wrap"}},e._l(e.chooseFolders,(function(t){return o("div",{staticClass:"path-item flex-col flex-align-center",on:{click:function(o){return e.chooseFolder(t)},dblclick:function(o){return e.openFolder(t)}}},["d.p"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"图片目录",src:"/images/image-folder.svg"}}):e._e(),e._v(" "),"d.d"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"文档目录",src:"/images/document-folder.svg"}}):e._e(),e._v(" "),"d.v"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"视频目录",src:"/images/video-folder.svg"}}):e._e(),e._v(" "),"d.m"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"音乐目录",src:"/images/music-folder.svg"}}):e._e(),e._v(" "),"d.t"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"种子目录",src:"/images/torrent-folder.svg"}}):e._e(),e._v(" "),"d"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"目录",src:"/images/dir.svg"}}):e._e(),e._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.name,placement:"right"}},[o("div",{staticClass:"path-item-name"},[e._v(e._s(e.cutText(t.name)))])])],1)})),0)]),e._v(" "),o("div",{staticClass:"choose-folder-dialog-bottom"},[o("label",{staticClass:"flex-row flex-space-between flex-align-center"},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"返回上级目录",placement:"top"}},[o("img",{staticClass:"back-path size-20",attrs:{alt:"返回上级目录",src:"/images/arrow-left.svg"},on:{click:function(t){return e.backTopPath(e.uploadRelativePath)}}})]),e._v(" "),o("span",{staticStyle:{height:"30px","line-height":"30px","font-size":"12px","margin-left":"5px"}},[e._v("上传路径")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.uploadRelativePath,expression:"uploadRelativePath"}],staticClass:"input-upload-path",staticStyle:{flex:"1"},attrs:{type:"text",disabled:""},domProps:{value:e.uploadRelativePath},on:{input:function(t){t.target.composing||(e.uploadRelativePath=t.target.value)}}}),e._v(" "),o("button",{staticClass:"btn-upload",on:{click:e.chooseUpload}},[e._v("确认")])],1)])]):e._e()}),[],!1,null,"f40f7256",null);t.default=component.exports},638:function(e,t,o){"use strict";o.r(t);o(98);var l={name:"choose-download-folder-dialog",props:{showDialog:{type:Boolean,default:!1},chooseFolders:{type:Array,default:function(){return[]}},currentPath:{type:Object,default:function(){return{}}}},data:function(){return{x:0,y:0,l:0,t:0,isHeaderDown:!1,downloadRelativePath:"/",downloadUrl:"http://192.168.111.1/零基础学python.pdf"}},watch:{showDialog:function(){this.listenAndDrag()},currentPath:function(path){this.downloadRelativePath=path.relativePath}},mounted:function(){this.downloadRelativePath=this.$store.state.path.current_path.relativePath},methods:{closeDialog:function(){this.$emit("close-dialog",{})},listenAndDrag:function(){var e=this;this.showDialog&&this.$nextTick((function(){var t=e.$refs["choose-download-folder-dialog-header"];t.onmousedown=e.onHeaderMouseDown,t.onmouseup=e.onHeaderMouseUp,t.onmouseleave=e.onHeaderMouseUp,window.onmousemove=e.onMouseMove}))},onHeaderMouseDown:function(e){var t=this.$refs["choose-download-folder-dialog"];this.x=e.clientX,this.y=e.clientY,this.l=t.offsetLeft,this.t=t.offsetTop,this.isHeaderDown=!0,e.target.style.cursor="move"},onMouseMove:function(e){if(this.isHeaderDown){var t=this.$refs["choose-download-folder-dialog"],o=e.clientX,l=e.clientY,n=o-(this.x-this.l)+300;n=n>300?n>document.body.offsetWidth-300?document.body.offsetWidth-300:n:300,t.style.left=n+"px";var r=l-(this.y-this.t)+225;r=r>225?r>document.body.offsetHeight-225-56?document.body.offsetHeight-225-56:r:225,t.style.top=r+"px"}},onHeaderMouseUp:function(e){this.isHeaderDown=!1,e.target.style.cursor="default"},cutText:function(text){return text.length>6?text.substr(0,4)+"...":text},chooseFolder:function(e){this.downloadRelativePath=e.relativePath,this.$emit("choose-folder",e)},openFolder:function(e){this.$emit("open-folder",e)},backTopPath:function(e){if(this.$emit("back-top-path",e),"/"!==e){var t=this.downloadRelativePath.split("/");t.pop(),t.pop(),t.push(""),this.downloadRelativePath=t.join("/")}},chooseDownload:function(){this.$emit("choose-download",{downloadUrl:this.downloadUrl})}}},n=(o(654),o(17)),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.showDialog?o("div",{ref:"choose-download-folder-dialog",staticClass:"choose-download-folder-dialog select-none"},[o("div",{ref:"choose-download-folder-dialog-header",staticClass:"choose-download-folder-dialog-header flex-row flex-space-between flex-align-center",attrs:{id:"choose-download-folder-dialog-header"}},[o("div",{staticClass:"choose-download-folder-dialog-header-left"},[e._v("选择下载路径")]),e._v(" "),o("div",{staticClass:"choose-download-folder-dialog-header-right"},[o("img",{staticClass:"size-14",attrs:{alt:"关闭弹窗",src:"/images/delete.svg"},on:{click:e.closeDialog}})])]),e._v(" "),o("div",{staticClass:"download-url-input"},[o("label",{staticClass:"flex-row flex-space-between flex-align-center"},[o("span",{staticStyle:{height:"30px","line-height":"30px","font-size":"12px","margin-left":"10px",color:"#000"}},[e._v("下载地址")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.downloadUrl,expression:"downloadUrl"}],staticClass:"download-url",staticStyle:{flex:"1"},attrs:{alt:"",type:"text"},domProps:{value:e.downloadUrl},on:{input:function(t){t.target.composing||(e.downloadUrl=t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"choose-download-folder-dialog-content"},[o("div",{staticClass:"flex-row",staticStyle:{"flex-wrap":"wrap"}},e._l(e.chooseFolders,(function(t){return o("div",{staticClass:"path-item flex-col flex-align-center",on:{click:function(o){return e.chooseFolder(t)},dblclick:function(o){return e.openFolder(t)}}},["d.p"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"图片目录",src:"/images/image-folder.svg"}}):e._e(),e._v(" "),"d.d"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"文档目录",src:"/images/document-folder.svg"}}):e._e(),e._v(" "),"d.v"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"视频目录",src:"/images/video-folder.svg"}}):e._e(),e._v(" "),"d.m"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"音乐目录",src:"/images/music-folder.svg"}}):e._e(),e._v(" "),"d.t"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"种子目录",src:"/images/torrent-folder.svg"}}):e._e(),e._v(" "),"d"===t.tag?o("img",{staticClass:"path-item-icon",attrs:{alt:"目录",src:"/images/dir.svg"}}):e._e(),e._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.name,placement:"right"}},[o("div",{staticClass:"path-item-name"},[e._v(e._s(e.cutText(t.name)))])])],1)})),0)]),e._v(" "),o("div",{staticClass:"choose-download-folder-dialog-bottom"},[o("label",{staticClass:"flex-row flex-space-between flex-align-center"},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"返回上级目录",placement:"top"}},[o("img",{staticClass:"back-path size-20",attrs:{alt:"返回上级目录",src:"/images/arrow-left.svg"},on:{click:function(t){return e.backTopPath(e.downloadRelativePath)}}})]),e._v(" "),o("span",{staticStyle:{height:"30px","line-height":"30px","font-size":"12px","margin-left":"5px"}},[e._v("下载路径")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.downloadRelativePath,expression:"downloadRelativePath"}],staticClass:"input-download-save-path",staticStyle:{flex:"1"},attrs:{type:"text",disabled:""},domProps:{value:e.downloadRelativePath},on:{input:function(t){t.target.composing||(e.downloadRelativePath=t.target.value)}}}),e._v(" "),o("button",{staticClass:"btn-download",on:{click:e.chooseDownload}},[e._v("确认")])],1)])]):e._e()}),[],!1,null,"e53aad48",null);t.default=component.exports},647:function(e,t,o){var map={"./af":502,"./af.js":502,"./ar":503,"./ar-dz":504,"./ar-dz.js":504,"./ar-kw":505,"./ar-kw.js":505,"./ar-ly":506,"./ar-ly.js":506,"./ar-ma":507,"./ar-ma.js":507,"./ar-sa":508,"./ar-sa.js":508,"./ar-tn":509,"./ar-tn.js":509,"./ar.js":503,"./az":510,"./az.js":510,"./be":511,"./be.js":511,"./bg":512,"./bg.js":512,"./bm":513,"./bm.js":513,"./bn":514,"./bn.js":514,"./bo":515,"./bo.js":515,"./br":516,"./br.js":516,"./bs":517,"./bs.js":517,"./ca":518,"./ca.js":518,"./cs":519,"./cs.js":519,"./cv":520,"./cv.js":520,"./cy":521,"./cy.js":521,"./da":522,"./da.js":522,"./de":523,"./de-at":524,"./de-at.js":524,"./de-ch":525,"./de-ch.js":525,"./de.js":523,"./dv":526,"./dv.js":526,"./el":527,"./el.js":527,"./en-au":528,"./en-au.js":528,"./en-ca":529,"./en-ca.js":529,"./en-gb":530,"./en-gb.js":530,"./en-ie":531,"./en-ie.js":531,"./en-il":532,"./en-il.js":532,"./en-in":533,"./en-in.js":533,"./en-nz":534,"./en-nz.js":534,"./en-sg":535,"./en-sg.js":535,"./eo":536,"./eo.js":536,"./es":537,"./es-do":538,"./es-do.js":538,"./es-us":539,"./es-us.js":539,"./es.js":537,"./et":540,"./et.js":540,"./eu":541,"./eu.js":541,"./fa":542,"./fa.js":542,"./fi":543,"./fi.js":543,"./fil":544,"./fil.js":544,"./fo":545,"./fo.js":545,"./fr":546,"./fr-ca":547,"./fr-ca.js":547,"./fr-ch":548,"./fr-ch.js":548,"./fr.js":546,"./fy":549,"./fy.js":549,"./ga":550,"./ga.js":550,"./gd":551,"./gd.js":551,"./gl":552,"./gl.js":552,"./gom-deva":553,"./gom-deva.js":553,"./gom-latn":554,"./gom-latn.js":554,"./gu":555,"./gu.js":555,"./he":556,"./he.js":556,"./hi":557,"./hi.js":557,"./hr":558,"./hr.js":558,"./hu":559,"./hu.js":559,"./hy-am":560,"./hy-am.js":560,"./id":561,"./id.js":561,"./is":562,"./is.js":562,"./it":563,"./it-ch":564,"./it-ch.js":564,"./it.js":563,"./ja":565,"./ja.js":565,"./jv":566,"./jv.js":566,"./ka":567,"./ka.js":567,"./kk":568,"./kk.js":568,"./km":569,"./km.js":569,"./kn":570,"./kn.js":570,"./ko":571,"./ko.js":571,"./ku":572,"./ku.js":572,"./ky":573,"./ky.js":573,"./lb":574,"./lb.js":574,"./lo":575,"./lo.js":575,"./lt":576,"./lt.js":576,"./lv":577,"./lv.js":577,"./me":578,"./me.js":578,"./mi":579,"./mi.js":579,"./mk":580,"./mk.js":580,"./ml":581,"./ml.js":581,"./mn":582,"./mn.js":582,"./mr":583,"./mr.js":583,"./ms":584,"./ms-my":585,"./ms-my.js":585,"./ms.js":584,"./mt":586,"./mt.js":586,"./my":587,"./my.js":587,"./nb":588,"./nb.js":588,"./ne":589,"./ne.js":589,"./nl":590,"./nl-be":591,"./nl-be.js":591,"./nl.js":590,"./nn":592,"./nn.js":592,"./oc-lnc":593,"./oc-lnc.js":593,"./pa-in":594,"./pa-in.js":594,"./pl":595,"./pl.js":595,"./pt":596,"./pt-br":597,"./pt-br.js":597,"./pt.js":596,"./ro":598,"./ro.js":598,"./ru":599,"./ru.js":599,"./sd":600,"./sd.js":600,"./se":601,"./se.js":601,"./si":602,"./si.js":602,"./sk":603,"./sk.js":603,"./sl":604,"./sl.js":604,"./sq":605,"./sq.js":605,"./sr":606,"./sr-cyrl":607,"./sr-cyrl.js":607,"./sr.js":606,"./ss":608,"./ss.js":608,"./sv":609,"./sv.js":609,"./sw":610,"./sw.js":610,"./ta":611,"./ta.js":611,"./te":612,"./te.js":612,"./tet":613,"./tet.js":613,"./tg":614,"./tg.js":614,"./th":615,"./th.js":615,"./tk":616,"./tk.js":616,"./tl-ph":617,"./tl-ph.js":617,"./tlh":618,"./tlh.js":618,"./tr":619,"./tr.js":619,"./tzl":620,"./tzl.js":620,"./tzm":621,"./tzm-latn":622,"./tzm-latn.js":622,"./tzm.js":621,"./ug-cn":623,"./ug-cn.js":623,"./uk":624,"./uk.js":624,"./ur":625,"./ur.js":625,"./uz":626,"./uz-latn":627,"./uz-latn.js":627,"./uz.js":626,"./vi":628,"./vi.js":628,"./x-pseudo":629,"./x-pseudo.js":629,"./yo":630,"./yo.js":630,"./zh-cn":631,"./zh-cn.js":631,"./zh-hk":632,"./zh-hk.js":632,"./zh-mo":633,"./zh-mo.js":633,"./zh-tw":634,"./zh-tw.js":634};function l(e){var t=n(e);return o(t)}function n(e){if(!o.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}l.keys=function(){return Object.keys(map)},l.resolve=n,e.exports=l,l.id=647},648:function(e,t,o){"use strict";var l=o(494);o.n(l).a},649:function(e,t,o){(t=o(26)(!1)).push([e.i,".upload-dialog{width:640px;height:447px;background:#fff;box-shadow:0 2px 16px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);position:absolute;bottom:0;right:0;z-index:1000}.upload-dialog-header{width:100%;height:40px;border-bottom:1px solid #f2f2f2}.upload-dialog-header-left{color:#666;font-size:12px}.upload-dialog-max{background:#fff;position:absolute;top:0;right:0;bottom:0;left:220px;z-index:1000}.upload-table td,.upload-table th{text-align:center!important}.upload-table-header{color:#606266;font-weight:100}.upload-table-header:hover{background-color:#ecf5ff}.path-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.path-name:hover{color:#409eff;cursor:pointer}.task-finish:before{font-size:16px}",""]),e.exports=t},650:function(e,t,o){"use strict";var l=o(495);o.n(l).a},651:function(e,t,o){(t=o(26)(!1)).push([e.i,".download-dialog[data-v-2ae70f65]{width:640px;height:447px;background:#fff;box-shadow:0 2px 16px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);position:absolute;bottom:0;right:0;z-index:1000}.download-dialog-header[data-v-2ae70f65]{width:100%;height:40px;border-bottom:1px solid #f2f2f2}.download-dialog-header-left[data-v-2ae70f65]{color:#666;font-size:12px}.path-name[data-v-2ae70f65]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.path-name[data-v-2ae70f65]:hover{color:#409eff;cursor:pointer}.task-finish[data-v-2ae70f65]:before{font-size:16px}",""]),e.exports=t},652:function(e,t,o){"use strict";var l=o(496);o.n(l).a},653:function(e,t,o){(t=o(26)(!1)).push([e.i,".choose-folder-dialog[data-v-f40f7256]{width:600px;height:450px;background:#fff;margin-top:-225px;margin-left:-300px;box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);position:absolute;top:50%;left:50%;z-index:10000}.choose-folder-dialog-header[data-v-f40f7256]{width:100%;height:40px}.choose-folder-dialog-header-left[data-v-f40f7256]{margin-left:5px;font-size:12px}.choose-folder-dialog-header-right[data-v-f40f7256]{margin-right:15px}.choose-folder-dialog-content[data-v-f40f7256]{width:100%;height:360px;background:#f2f2f2;overflow-x:hidden;overflow-y:auto}.path-item[data-v-f40f7256]{width:80px;height:82px;margin:10px;font-size:12px;color:#666}.path-item[data-v-f40f7256]:hover{opacity:.8}.path-item-icon[data-v-f40f7256]{width:64px;height:64px}.choose-folder-dialog-bottom[data-v-f40f7256]{margin-top:10px;margin-bottom:10px}.back-path[data-v-f40f7256]{width:40px;height:26px;margin-left:5px;margin-right:3px;cursor:pointer;background:#f2f2f2;border-radius:2px;outline:none}.back-path[data-v-f40f7256]:hover{border-radius:8px}.input-upload-path[data-v-f40f7256]{text-indent:8px;margin-left:5px;margin-right:10px;height:30px;border:1px solid #f2f2f2;background:#fff;font-size:12px}.btn-upload[data-v-f40f7256]{width:70px;height:30px;background:#409eff;color:#fff;border:none;margin-right:5px;outline:none;font-size:12px}.btn-upload[data-v-f40f7256]:hover{opacity:.9;border-radius:2px}",""]),e.exports=t},654:function(e,t,o){"use strict";var l=o(497);o.n(l).a},655:function(e,t,o){(t=o(26)(!1)).push([e.i,".choose-download-folder-dialog[data-v-e53aad48]{width:600px;height:500px;background:#fff;margin-top:-225px;margin-left:-300px;box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);position:absolute;top:50%;left:50%;z-index:10000}.choose-download-folder-dialog-header[data-v-e53aad48]{width:100%;height:40px;border-bottom:1px solid #f2f2f2}.choose-download-folder-dialog-header-left[data-v-e53aad48]{margin-left:5px;font-size:12px}.choose-download-folder-dialog-header-right[data-v-e53aad48]{margin-right:15px}.download-url-input[data-v-e53aad48]{width:600px;height:30px;margin-top:10px;margin-bottom:10px}.download-url[data-v-e53aad48]{text-indent:8px;margin-left:5px;margin-right:10px;height:30px;border:1px solid #f2f2f2;background:#fff;font-size:12px;outline:none}.choose-download-folder-dialog-content[data-v-e53aad48]{width:100%;height:360px;background:#f2f2f2;overflow-x:hidden;overflow-y:auto}.path-item[data-v-e53aad48]{width:80px;height:82px;margin:10px;font-size:12px;color:#666}.path-item[data-v-e53aad48]:hover{opacity:.8}.path-item-icon[data-v-e53aad48]{width:64px;height:64px}.choose-download-folder-dialog-bottom[data-v-e53aad48]{margin-top:10px;margin-bottom:10px}.back-path[data-v-e53aad48]{width:40px;height:26px;margin-left:5px;margin-right:3px;cursor:pointer;background:#f2f2f2;border-radius:2px;outline:none}.back-path[data-v-e53aad48]:hover{border-radius:8px}.input-download-save-path[data-v-e53aad48]{text-indent:8px;margin-left:5px;margin-right:10px;height:30px;border:1px solid #f2f2f2;background:#fff;font-size:12px;outline:none}.btn-download[data-v-e53aad48]{width:70px;height:30px;background:#409eff;color:#fff;border:none;margin-right:5px;outline:none;font-size:12px}.btn-download[data-v-e53aad48]:hover{opacity:.9;border-radius:2px}",""]),e.exports=t},656:function(e,t,o){"use strict";var l=o(498);o.n(l).a},657:function(e,t,o){(t=o(26)(!1)).push([e.i,".gui-app{width:100%}.file-card{position:absolute;top:71px;right:0;bottom:50px;left:220px;overflow-x:hidden;overflow-y:auto;border:none!important;box-shadow:none!important}.file-table .el-table__header-wrapper{position:fixed;top:127px;z-index:100}.file-table .el-table__body-wrapper{margin-top:50px}.file-table-header{color:#606266;font-weight:100}.file-table-header:hover{background-color:#ecf5ff}.path-breadcrumb .is-link:hover{color:#999}.path-icon{width:20px;height:20px}.path-name{color:#333;margin-left:10px}.path-name input{height:22px;background:#f2f2f2;color:#444;font-size:10px;text-indent:5px;outline:none;border:none}.btn-create-dir{width:20px;height:20px;border-color:#fff;margin-left:5px!important;padding:0;border-radius:0}.btn-create-dir:focus,.btn-create-dir:hover{color:#606266;border-color:#f2f2f2;background-color:#f2f2f2}.btn-close-create-dir{width:20px;height:20px;border-color:#fff;margin-left:5px!important;padding:0;border-radius:0}.btn-close-create-dir:focus,.btn-close-create-dir:hover{color:#606266;border-color:#f2f2f2;background-color:#f2f2f2}.right-menu{position:absolute;left:20px;z-index:1000}.right-menu>.el-card__body{padding:0!important}.right-menu-btn{padding:8px 20px;cursor:pointer}.right-menu-btn:hover{background-color:#ecf5ff;color:#606266}.file-function-header{width:100%;height:55px}.function-button:first-child{margin-left:10px}.function-button{height:32px;margin-right:10px;border:1px solid #f2f2f2;cursor:pointer}.function-button:hover{box-shadow:0 2px 6px 0 rgba(0,0,0,.05)}.function-search{width:225px;height:32px;background:#f2f2f2;margin-right:10px}.function-search:hover{box-shadow:0 2px 6px 0 rgba(0,0,0,.05)}.function-search input{width:190px;background:#f2f2f2;text-indent:5px;border:none;font-size:12px;outline:none}.file-card .el-card__body{padding-top:0}.upload-tip{background:hsla(0,0%,100%,.5);position:absolute;top:-112px;right:0;bottom:0;left:0;z-index:10000;font-size:30px}.mini-right-bottom{width:40px;height:auto;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);position:absolute;right:10px;bottom:66px;z-index:999}.btn-max-offline-download-dialog{height:40px;cursor:pointer;border-bottom:1px solid #f0f0f0}.btn-max-offline-download-dialog:hover{background:#f0f0f0}.btn-max-upload-dialog{height:40px;cursor:pointer}.btn-max-upload-dialog:hover{background:#f0f0f0}",""]),e.exports=t},662:function(e,t,o){"use strict";o.r(t);o(643),o(47),o(24),o(89),o(39),o(70);var l=o(94),n=o.n(l),r=o(491),d=o.n(r),c=o(635),h=o(636),f=o(292),m=o.n(f),v=o(637),w={components:{ChooseDownloadFolderDialog:o(638).default,ChooseFolderDialog:v.default,UploadDialog:c.default,OfflineDownloadDialog:h.default,ElCollapseTransition:m.a},layout:"pc",head:{title:"简单网盘"},middleware:"auth",asyncData:function(e){return{path:void 0!==e.route.query.path?e.route.query.path.replace(/\ /g,"+"):e.store.state.user.root_dir}},data:function(){return{timer:"",showRightMenu:!1,uploadTip:"上传文件到当前目录下",showChooseFolderDialog:!1,showChooseDownloadFolderDialog:!1,chooseFolders:[],choseFolder:{},showUploadTip:!1,showUploadDialog:!1,filesQueue:{},uploadFilesQueue:{},uploadFiles:[],uploadFileObject:{},prevUploadFile:{},showOfflineDownloadTip:!1,showOfflineDownloadDialog:!1,offlineDownloadTip:"离线下载文件到当前目录下",offlineDownloadFilesQueue:{},offlineDownloadFiles:[],offlineDownloadFileObject:{},topPath:[],pathData:[],breadcrumbs:this.$store.state.breadcrumb.breadcrumbs,rootDir:this.$store.state.user.root_dir,currentPath:this.$store.state.path.current_path}},watch:{$route:function(e){void 0===e.query.path?this.path=this.$store.state.user.root_dir:this.path=e.query.path.replace(/\ /g,"+"),this.breadcrumbs=this.$store.state.breadcrumb.breadcrumbs,this.searchPath(this.path)}},mounted:function(){this.checkAccessToken(),this.initPath(this.path),this.forbiddenSystemMenu(),this.initDragUpload()},methods:{checkAccessToken:function(){"invalid"===this.$store.state.token.access_token&&(n.a.remove("access_token"),location.href="/entry")},maximizeUploadDialog:function(){this.showUploadDialog=!0},minimizeUploadDialog:function(){this.showUploadDialog=!1},minimizeOfflineDownloadDialog:function(){this.showOfflineDownloadDialog=!1},maximizeOfflineDownloadDialog:function(){this.showOfflineDownloadDialog=!0},initPath:function(path){var e=this;this.$api.driveClient=new WebSocket(this.$api.address+this.$api.driveService),this.$api.driveClient.onopen=function(){var t={rootDir:e.rootDir,path:path};e.$api.driveClient.send(JSON.stringify(t))},this.$api.driveClient.onmessage=function(t){var data=JSON.parse(t.data);data.result?e.pathData=null===JSON.parse(data.data)?[]:JSON.parse(data.data):e.$message({type:"error",message:data.message})}},forbiddenSystemMenu:function(){document.oncontextmenu=function(){event.returnValue=!1}},closeChooseFolderDialog:function(){this.showChooseFolderDialog=!1,this.$refs["upload-file"].value=""},closeChooseDownloadFolderDialog:function(){this.showChooseDownloadFolderDialog=!1},chooseFolder:function(e){this.choseFolder=e},openFolder:function(e){this.choseFolder=e;var t=this;this.$api.client=new WebSocket(this.$api.address+this.$api.driveService),this.$api.client.onopen=function(){var o={rootDir:t.rootDir,path:e.path};t.$api.client.send(JSON.stringify(o))},this.$api.client.onmessage=function(e){var o=JSON.parse(e.data);if(o.length>0){var l=[];o.map((function(path){("d"===path.tag||"d.p"===path.tag||"d.d"===path.tag||"d.t"===path.tag||"d.v"===path.tag||"d.m"===path.tag)&&l.push(path)})),t.chooseFolders=l}else t.chooseFolders=[]},this.topPath[e.relativePath]=e.parentPath},backTopPath:function(e){if("/"!==e){var t=this;this.$api.client=new WebSocket(this.$api.address+this.$api.driveService),this.$api.client.onopen=function(){var o={rootDir:t.rootDir,path:t.topPath[e]};t.$api.client.send(JSON.stringify(o))},this.$api.client.onmessage=function(e){var data=JSON.parse(e.data);if(data.result){var o=JSON.parse(data.data);if(o.length>0){var l=[];o.map((function(path){("d"===path.tag||"d.p"===path.tag||"d.d"===path.tag||"d.t"===path.tag||"d.v"===path.tag||"d.m"===path.tag)&&l.push(path)})),t.chooseFolders=l}else t.chooseFolders=[]}else this.$message({type:"error",message:"回退目录失败，请刷新网页重试！"})}}},chooseDownload:function(e){var t=e.downloadUrl,o=t.substr(t.lastIndexOf("/")+1,t.length-t.lastIndexOf("/"));this.closeChooseDownloadFolderDialog(),this.offlineDownloadFilesQueue.hasOwnProperty(o)&&this.offlineDownloadFilesQueue[o].relativePath===this.choseFolder.relativePath&&(this.$message({type:"warning",message:"文件已存在，文件被重名",offset:300}),o=o.substr(0,o.lastIndexOf("."))+d()(new Date).format("YYYYMMDDHHmmss")+o.substr(o.lastIndexOf("."),o.length));var path=this.choseFolder.path,l=this.choseFolder.name,n=this.choseFolder.relativePath;this.showOfflineDownloadDialog=!0,this.offlineDownloadFileObject[o]=this.offlineDownloadFiles.length,this.offlineDownloadFiles.push({name:o,start:(new Date).getTime(),size:0,sizeWithUnit:this.sizeWithUnit(0),path:path,pathName:l,pathRelativeName:n,downloaded:0,percentage:0,speed:0}),this.offlineDownloadFilesQueue[o]={relativePath:this.choseFolder.relativePath},this.startOfflineDownload(t,o,path)},chooseUpload:function(){var e=this,t=this.prevUploadFile;this.closeChooseFolderDialog();var o="";e.uploadFilesQueue.hasOwnProperty(t.name)?e.uploadFilesQueue[t.name].relativePath===e.choseFolder.relativePath&&(e.$message({type:"warning",message:"文件已存在，文件被重命名",offset:300}),o=t.name.substr(0,t.name.lastIndexOf("."))+d()(new Date).format("YYYYMMDDHHmmss")+t.name.substr(t.name.lastIndexOf("."),t.name.length)):o=t.name,e.filesQueue[o]=t,Object.keys(this.filesQueue).forEach((function(t){var o=e.filesQueue[t],path=e.choseFolder.path,l=e.choseFolder.name,n=e.choseFolder.relativePath;e.showUploadDialog=!0,e.uploadFileObject[t]=e.uploadFiles.length,e.uploadFiles.push({name:t,start:(new Date).getTime(),size:o.size,sizeWithUnit:e.sizeWithUnit(o.size),path:path,pathName:l,pathRelativeName:n,uploaded:0,percentage:0,speed:0}),e.uploadFilesQueue[t]={relativePath:e.choseFolder.relativePath},delete e.filesQueue[t];var r=Math.ceil(o.size/(1<<24));e.startUpload(t,o,path,1<<24,r)}))},repath:function(e){var t=this.currentPath;("d"===e.tag||"d.p"===e.tag||"d.d"===e.tag||"d.t"===e.tag||"d.v"===e.tag||"d.m"===e.tag)&&(this.path=e.path,this.topPath[t.relativePath]=t.parentPath,this.$router.push("/?path="+this.path))},searchPath:function(path){var e={rootDir:this.rootDir,path:path};this.$api.driveClient.send(JSON.stringify(e))},showMenu:function(e,t,o){var l=this,n=this.$refs["right-menu"].$el;this.selectedRow=e,n.style.left=o.clientX+10+"px",n.style.top=o.clientY-56+"px",this.showRightMenu=!0,this.timer=setTimeout((function(){l.showRightMenu=!1}),1e3),o.preventDefault()},onRightMenuEnter:function(){clearTimeout(this.timer)},onRightMenuLeave:function(){var e=this;this.timer=setTimeout((function(){e.showRightMenu=!1}),400)},openCreateDir:function(){this.pathData.splice(0,0,{modTime:"-",name:"新建文件夹",path:this.path,size:"-",tag:"d.c"})},openUpload:function(){var e=this;this.$refs["upload-file"].click(),this.$refs["upload-file"].onchange=function(t){if(t.target.files.length>0){if(e.pathData.length>0){var o=[];e.pathData.map((function(path){("d"===path.tag||"d.p"===path.tag||"d.d"===path.tag||"d.t"===path.tag||"d.v"===path.tag||"d.m"===path.tag)&&o.push(path)})),e.chooseFolders=o}else e.chooseFolders=[];e.prevUploadFile=t.target.files[0],e.showChooseFolderDialog=!0,e.currentPath=e.$store.state.path.current_path,e.topPath[e.currentPath.relativePath]=e.currentPath.parentPath,e.choseFolder={name:e.currentPath.name,path:e.currentPath.path,relativePath:e.currentPath.relativePath}}}},createDir:function(e){var t=this;this.$api.client=new WebSocket(this.$api.address+this.$api.createDirService),this.$api.client.onopen=function(){t.$api.client.send(JSON.stringify(e))},this.$api.client.onmessage=function(e){t.pathData=null===JSON.parse(e.data)?[]:JSON.parse(e.data),t.$api.client.close()}},closeCreateDir:function(e){this.pathData.splice(0,1),e.stopPropagation()},open:function(){this.showRightMenu=!1,"d"===this.selectedRow.Tag&&(this.path=this.selectedRow.Path,this.$router.push("/?path="+this.path))},del:function(){var e=this;this.showRightMenu=!1,this.$api.client=new WebSocket(this.$api.address+this.$api.deleteService),this.$api.client.onopen=function(){e.$api.client.send(JSON.stringify({path:e.path,deletePath:e.selectedRow.path}))},this.$api.client.onmessage=function(t){e.pathData=null===JSON.parse(t.data)?[]:JSON.parse(t.data),e.$api.client.close()}},openOfflineDownload:function(){if(this.pathData.length>0){var e=[];this.pathData.map((function(path){("d"===path.tag||"d.p"===path.tag||"d.d"===path.tag||"d.t"===path.tag||"d.v"===path.tag||"d.m"===path.tag)&&e.push(path)})),this.chooseFolders=e}else this.chooseFolders=[];this.showChooseDownloadFolderDialog=!0,this.currentPath=this.$store.state.path.current_path,this.topPath[this.currentPath.relativePath]=this.currentPath.parentPath,this.choseFolder={name:this.currentPath.name,path:this.currentPath.path,relativePath:this.currentPath.relativePath}},download:function(){var e=this.$api.httpAddress+this.$api.downloadFileService+"?path="+encodeURIComponent(this.selectedRow.path)+"&name="+this.selectedRow.name,a=document.createElement("a");a.href=e,a.download=this.selectedRow.name,a.click(),a.remove()},convertBase64ToBlob:function(e){for(var t=atob(e),o=new ArrayBuffer(t.length),l=new Uint8Array(o),i=0;i<t.length;i++)l[i]=t.charCodeAt(i);return new Blob([o])},initDragUpload:function(){var e=this,t=this.$root.$children[2].$el;t.ondragstart=function(e){e.preventDefault()},t.ondragleave=function(e){e.preventDefault()},t.ondragenter=function(e){e.preventDefault()},t.ondragover=function(e){e.preventDefault()},t.ondrop=function(t){t.preventDefault();var o=e,l=t.dataTransfer.files,n=t.path,r=n.length,path=o.path,c="我的资源",h="/";if(r>0)for(var i=0;i<r;i++)if("TR"===n[i].nodeName){var f=n[i].childNodes[1].childNodes[0].childNodes[2].dataset,m=JSON.parse(f.fileInfo);path=m.path,c=m.name,h=m.relativePath,o.uploadTip="上传文件到我的资源的"+m.name+"中";break}o.showUploadTip=!0,setTimeout((function(){o.showUploadTip=!1}),500),Object.keys(l).forEach((function(e){var t=l[e],n="";o.uploadFilesQueue.hasOwnProperty(t.name)&&o.uploadFilesQueue[t.name].relativePath===h?(o.$message({type:"warning",message:"文件已存在，文件被重命名",offset:300}),n=t.name.substr(0,t.name.lastIndexOf("."))+d()(new Date).format("YYYYMMDDHHmmss")+t.name.substr(t.name.lastIndexOf("."),t.name.length)):n=t.name,o.filesQueue[n]=t})),Object.keys(e.filesQueue).forEach((function(e){var l=o.filesQueue[e];o.showUploadDialog=!0,o.uploadFileObject[e]=o.uploadFiles.length,console.log(t),o.uploadFiles.push({name:e,start:(new Date).getTime(),size:l.size,sizeWithUnit:o.sizeWithUnit(l.size),path:path,pathName:c,pathRelativeName:h,uploaded:0,percentage:0,speed:0}),o.uploadFilesQueue[e]={relativePath:h},delete o.filesQueue[e];var n=Math.ceil(l.size/(1<<24));o.startUpload(e,l,path,1<<24,n)}))}},startUpload:function(e,t,path,o,l){for(var n=this,r=function(r){var d=new WebSocket(n.$api.address+n.$api.uploadFileService);d.onopen=function(c){console.log("连接已打开",c);var h,f=0;h=(f+=o*r)+o,f+o>t.size&&(h=t.size),n.upload(d,e,t,path,f,h,1<<17,l,o)},d.onmessage=function(o){var data=JSON.parse(o.data);if(data.result){var l=data.data.uploaded;n.uploadFiles[n.uploadFileObject[e]].percentage=parseInt(l/t.size*100),n.uploadFiles[n.uploadFileObject[e]].speed=(l/(1<<20)/(((new Date).getTime()-n.uploadFiles[n.uploadFileObject[e]].start)/1e3)).toFixed(1),l===t.size&&console.log("上传总耗时："+((new Date).getTime()-n.uploadFiles[n.uploadFileObject[e]].start)/1e3+"s")}},d.onclose=function(e){console.log("连接已关闭",e)}},d=0;d<l;d++)r(d)},startOfflineDownload:function(e,t,path){var o=this,l=new WebSocket(this.$api.address+this.$api.offlineDownloadFileService),n=this.fileInfo({name:t,size:0});l.onopen=function(t){console.log("连接已打开",t);var r={downloadUrl:e,fileName:n.fileName,fileType:n.fileType,parentPath:path,rootDir:o.rootDir,currentPath:o.path};l.send(JSON.stringify(r))},l.onmessage=function(e){var data=JSON.parse(e.data);if(data.result){var t=data.data.fileName,l=data.data.fileSize,n=data.data.downloaded;o.offlineDownloadFiles[o.offlineDownloadFileObject[t]].size=l,o.offlineDownloadFiles[o.offlineDownloadFileObject[t]].sizeWithUnit=o.sizeWithUnit(l),o.offlineDownloadFiles[o.offlineDownloadFileObject[t]].downloaded=n,o.offlineDownloadFiles[o.offlineDownloadFileObject[t]].percentage=parseInt(n/l*100),o.offlineDownloadFiles[o.offlineDownloadFileObject[t]].speed=(data.data.downloadSpeed/(1<<20)).toFixed(1),n===l&&n>0&&l>0&&console.log("离线下载总耗时："+((new Date).getTime()-o.offlineDownloadFiles[o.offlineDownloadFileObject[t]].start)/1e3+"s")}},l.onclose=function(e){console.log("连接已关闭",e)}},readFile:function(e){return new Promise((function(t,o){var l=new FileReader;l.readAsDataURL(e),l.onload=function(e){t(e)},l.onerror=o}))},fileInfo:function(e){var t=e.name.substr(0,e.name.lastIndexOf(".")),o=e.name.substr(e.name.lastIndexOf(".")+1,e.name.length-e.name.lastIndexOf("."));return{fileName:t,fileSize:e.size,fileType:o}},upload:function(e,t,o,path,l,n,r,d,c){var h=this.fileInfo(o),f=this;this.readFile(o.slice(l,l+r<n?l+r:n)).then((function(m){var v=l+r<n?l+r:n,w=Math.ceil((v-parseInt(l/c)*c)/r),x={fileName:t.substr(0,t.lastIndexOf(".")),fileSize:h.fileSize,fileType:h.fileType,rootDir:f.rootDir,parentPath:path,currentPath:f.path,clientId:parseInt((l+c)/c),clientN:d,clientSize:c,block:m.target.result,blockId:w,blockSize:m.loaded};e.send(JSON.stringify(x)),(l+=r)<n&&f.upload(e,t,o,path,l,n,r,d,c)}))},toUpload:function(e){100===e.percentage?(this.path=e.path,this.$router.push("/?path="+this.path)):this.$message({type:"warning",message:"文件正在上传中，请不要点击上传路径！",offset:300})},toDownload:function(e){100===e.percentage?(this.path=e.path,this.$router.push("/?path="+this.path)):this.$message({type:"warning",message:"文件正在离线下载中，请不要点击下载路径！",offset:300})},sizeWithUnit:function(e){var t=1024*(1<<30),o=(1<<30)*(1<<20);return e<1024?e+"B":e>=1024&&e<1<<20?(e/1024).toFixed(2)+"K":e>=1<<20&&e<1<<30?(e/(1<<20)).toFixed(2)+"M":e>=1<<30&&e<t?(e/(1<<30)).toFixed(2)+"G":e>=t&&e<o?(e/t).toFixed(2)+"T":(e/o).toFixed(2)+"P"}}},x=(o(656),o(17)),component=Object(x.a)(w,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"gui-app"},[o("div",{staticClass:"file-function-header flex-row flex-space-between flex-align-center"},[o("div",{staticClass:"flex-row select-none"},[o("div",{staticClass:"function-button flex-row flex-justify-center flex-align-center",staticStyle:{width:"84px"},on:{click:e.openUpload}},[o("img",{staticClass:"size-20",attrs:{alt:"上传",src:"/images/upload.svg"}}),e._v(" "),o("input",{ref:"upload-file",staticStyle:{display:"none"},attrs:{type:"file"}}),e._v(" "),o("span",{staticStyle:{"margin-left":"4px",color:"#666"}},[e._v("上传")])]),e._v(" "),o("div",{staticClass:"function-button flex-row flex-justify-center flex-align-center",staticStyle:{width:"120px"},on:{click:e.openCreateDir}},[o("img",{staticClass:"size-20",attrs:{alt:"上传",src:"/images/add-folder.svg"}}),e._v(" "),o("span",{staticStyle:{"margin-left":"4px",color:"#666"}},[e._v("新建文件夹")])]),e._v(" "),o("div",{staticClass:"function-button flex-row flex-justify-center flex-align-center",staticStyle:{width:"100px"},on:{click:e.openOfflineDownload}},[o("img",{staticClass:"size-20",attrs:{alt:"上传",src:"/images/download.svg"}}),e._v(" "),o("span",{staticStyle:{"margin-left":"4px",color:"#666"}},[e._v("离线下载")])])]),e._v(" "),o("div",{staticClass:"function-search flex-row flex-justify-center flex-align-center"},[e._m(0),e._v(" "),o("img",{directives:[{name:"cursor",rawName:"v-cursor",value:"pointer",expression:"'pointer'"}],staticClass:"size-20",attrs:{alt:"搜索",src:"/images/search.svg"}})])]),e._v(" "),o("div",{staticClass:"file-function-header flex-row flex-space-between flex-align-center",staticStyle:{height:"16px"}},[o("div",{staticStyle:{color:"#666","margin-left":"10px"}},[o("el-breadcrumb",{staticClass:"path-breadcrumb select-none",staticStyle:{"font-size":"12px"},attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.breadcrumbs,(function(b){return o("el-breadcrumb-item",{key:b.url,attrs:{to:{path:b.url}}},[e._v(e._s(b.label))])})),1)],1),e._v(" "),o("div",{staticClass:"select-none",staticStyle:{color:"#666","margin-right":"10px","font-size":"12px"}},[e._v("\n      已全部加载，共"+e._s(e.pathData.length)+"个\n    ")])]),e._v(" "),o("el-card",{ref:"file-card",staticClass:"file-card select-none"},[o("el-table",{ref:"file-table",staticClass:"file-table",staticStyle:{width:"100%"},attrs:{"header-cell-class-name":"file-table-header",data:e.pathData,"empty-text":"暂无文件"},on:{"row-dblclick":e.repath,"row-click":e.repath,"row-contextmenu":e.showMenu}},[o("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{prop:"Name",label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return["d.c"===t.row.tag?o("div",{staticClass:"flex-row flex-align-center",attrs:{"data-file-info":JSON.stringify(t.row)}},[o("img",{staticClass:"path-icon",attrs:{alt:"新目录",src:"/images/dir.svg"}}),e._v(" "),o("label",{staticClass:"path-name"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"scope.row.name"}],attrs:{type:"text"},domProps:{value:t.row.name},on:{input:function(o){o.target.composing||e.$set(t.row,"name",o.target.value)}}}),e._v(" "),o("el-button",{staticClass:"btn-create-dir",attrs:{icon:"el-icon-check"},on:{click:function(o){return e.createDir(t.row)}}}),e._v(" "),o("el-button",{staticClass:"btn-close-create-dir",attrs:{icon:"el-icon-close"},on:{click:e.closeCreateDir}})],1)]):e._e(),e._v(" "),"d.c"!==t.row.tag?o("div",{staticClass:"flex-row flex-align-center",attrs:{"data-file-info":JSON.stringify(t.row)}},["d.p"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"图片目录",src:"/images/image-folder.svg"}}):e._e(),e._v(" "),"d.d"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"文档目录",src:"/images/document-folder.svg"}}):e._e(),e._v(" "),"d.v"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"视频目录",src:"/images/video-folder.svg"}}):e._e(),e._v(" "),"d.m"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"音乐目录",src:"/images/music-folder.svg"}}):e._e(),e._v(" "),"d.t"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"种子目录",src:"/images/torrent-folder.svg"}}):e._e(),e._v(" "),"d"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"目录",src:"/images/dir.svg"}}):e._e(),e._v(" "),"f"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"文件",src:"/images/file.svg"}}):e._e(),e._v(" "),"lnk"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"lnk文件",src:"/images/file.svg"}}):e._e(),e._v(" "),"pdf"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"pdf文件",src:"/images/pdf.svg"}}):e._e(),e._v(" "),"png"===t.row.tag?o("img",{staticClass:"path-icon",attrs:{alt:"png文件",src:"/images/png.svg"}}):e._e(),e._v(" "),o("span",{staticClass:"path-name"},[e._v(e._s(t.row.name))])]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"size",label:"大小",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["-"!==t.row.size?o("div",[e._v("\n            "+e._s(e.sizeWithUnit(t.row.size))+"\n          ")]):e._e(),e._v(" "),"-"===t.row.size?o("div",[e._v("\n            "+e._s(t.row.size)+"\n          ")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"modTime",label:"修改日期",width:"200"}})],1)],1),e._v(" "),o("el-collapse-transition",[o("el-card",{directives:[{name:"show",rawName:"v-show",value:e.showRightMenu,expression:"showRightMenu"}],ref:"right-menu",staticClass:"right-menu select-none"},[o("div",{staticClass:"right-menu-btn",on:{mouseenter:e.onRightMenuEnter,mouseleave:e.onRightMenuLeave,click:e.open}},[e._v("打开")]),e._v(" "),o("div",{staticClass:"right-menu-btn",on:{mouseenter:e.onRightMenuEnter,mouseleave:e.onRightMenuLeave,click:e.del}},[e._v("删除\n      ")]),e._v(" "),o("div",{staticClass:"right-menu-btn",on:{mouseenter:e.onRightMenuEnter,mouseleave:e.onRightMenuLeave,click:e.download}},[e._v("下载\n      ")])])],1),e._v(" "),o("choose-download-folder-dialog",{attrs:{"show-dialog":e.showChooseDownloadFolderDialog,"choose-folders":e.chooseFolders,"current-path":e.currentPath},on:{"close-dialog":e.closeChooseDownloadFolderDialog,"choose-folder":e.chooseFolder,"open-folder":e.openFolder,"choose-download":e.chooseDownload,"back-top-path":e.backTopPath}}),e._v(" "),o("choose-folder-dialog",{attrs:{"show-dialog":e.showChooseFolderDialog,"choose-folders":e.chooseFolders,"current-path":e.currentPath},on:{"close-dialog":e.closeChooseFolderDialog,"choose-folder":e.chooseFolder,"open-folder":e.openFolder,"choose-upload":e.chooseUpload,"back-top-path":e.backTopPath}}),e._v(" "),o("upload-dialog",{attrs:{"show-dialog":e.showUploadDialog,"upload-files":e.uploadFiles},on:{"to-upload":e.toUpload,"minimize-upload-dialog":e.minimizeUploadDialog}}),e._v(" "),o("offline-download-dialog",{attrs:{"show-dialog":e.showOfflineDownloadDialog,"download-files":e.offlineDownloadFiles},on:{"to-download":e.toDownload,"minimize-download-dialog":e.minimizeOfflineDownloadDialog}}),e._v(" "),e.showUploadTip?o("div",{staticClass:"upload-tip flex-row flex-justify-center flex-align-center"},[e._v("\n    "+e._s(e.uploadTip)+"\n  ")]):e._e(),e._v(" "),e.showOfflineDownloadTip?o("div",{staticClass:"upload-tip flex-row flex-justify-center flex-align-center"},[e._v("\n    "+e._s(e.offlineDownloadTip)+"\n  ")]):e._e(),e._v(" "),o("div",{staticClass:"mini-right-bottom"},[o("el-tooltip",{attrs:{content:"离线下载列表"}},[o("div",{staticClass:"btn-max-offline-download-dialog",on:{click:e.maximizeOfflineDownloadDialog}},[o("img",{staticStyle:{margin:"10px",width:"20px"},attrs:{alt:"离线下载列表",src:"/images/download.svg"}})])]),e._v(" "),o("el-tooltip",{attrs:{content:"上传列表"}},[o("div",{staticClass:"btn-max-upload-dialog",on:{click:e.maximizeUploadDialog}},[o("img",{staticStyle:{margin:"10px",width:"20px"},attrs:{alt:"上传列表",src:"/images/upload.svg"}})])])],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{type:"text",placeholder:"搜索您的文件"}})])}],!1,null,null,null);t.default=component.exports;installComponents(component,{ChooseDownloadFolderDialog:o(638).default,ChooseFolderDialog:o(637).default,UploadDialog:o(635).default,OfflineDownloadDialog:o(636).default})}}]);